<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sct.service.database.mapper.SecUserMapper">
    <resultMap id="BaseResultMap" type="com.sct.service.users.data.entity.AuthorityUser">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        <id column="user_id" jdbcType="VARCHAR" property="userId"/>
        <result column="login_id" jdbcType="VARCHAR" property="loginId"/>
        <result column="user_name" jdbcType="VARCHAR" property="userName"/>
        <result column="user_status" jdbcType="DECIMAL" property="userStatus"/>
        <result column="deleted_time" jdbcType="TIMESTAMP" property="deletedTime"/>
        <result column="password" jdbcType="VARCHAR" property="password"/>
        <result column="password_raw" jdbcType="VARCHAR" property="passwordRaw"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime"/>
        <result column="valid_start_time" jdbcType="TIMESTAMP" property="validStartTime"/>
        <result column="valid_end_time" jdbcType="TIMESTAMP" property="validEndTime"/>
        <result column="pwd_must_change" jdbcType="DECIMAL" property="pwdMustChange"/>
        <result column="pwd_expire_date" jdbcType="DATE" property="pwdExpireDate"/>
        <result column="login_failed_times" jdbcType="DECIMAL" property="loginFailedTimes"/>
        <result column="login_lock_time" jdbcType="TIMESTAMP" property="loginLockTime"/>
        <result column="user_email" jdbcType="VARCHAR" property="userEmail"/>
        <result column="user_mobile" jdbcType="VARCHAR" property="userMobile"/>
        <result column="user_phone" jdbcType="VARCHAR" property="userPhone"/>
        <result column="memo" jdbcType="VARCHAR" property="memo"/>
        <result column="dept_id" jdbcType="INTEGER" property="deptId"/>
        <result column="title_id" jdbcType="INTEGER" property="titleId"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        delete from sec_user
        where user_id = #{userId,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="com.sct.service.users.data.entity.AuthorityUser">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        insert into sec_user (user_id, login_id, user_name,
        user_status, deleted_time, password,
        password_raw, create_time, modified_time,
        valid_start_time, valid_end_time, pwd_must_change,
        pwd_expire_date, login_failed_times, login_lock_time,
        user_email, user_mobile, user_phone,
        memo, dept_id, title_id
        )
        values (#{userId,jdbcType=VARCHAR}, #{loginId,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR},
        #{userStatus,jdbcType=DECIMAL}, #{deletedTime,jdbcType=TIMESTAMP}, #{password,jdbcType=VARCHAR},
        #{passwordRaw,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, #{modifiedTime,jdbcType=TIMESTAMP},
        #{validStartTime,jdbcType=TIMESTAMP}, #{validEndTime,jdbcType=TIMESTAMP}, #{pwdMustChange,jdbcType=DECIMAL},
        #{pwdExpireDate,jdbcType=DATE}, #{loginFailedTimes,jdbcType=DECIMAL}, #{loginLockTime,jdbcType=TIMESTAMP},
        #{userEmail,jdbcType=VARCHAR}, #{userMobile,jdbcType=VARCHAR}, #{userPhone,jdbcType=VARCHAR},
        #{memo,jdbcType=VARCHAR}, #{deptId,jdbcType=INTEGER}, #{titleId,jdbcType=INTEGER}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.sct.service.users.data.entity.AuthorityUser">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        update sec_user
        set login_id = #{loginId,jdbcType=VARCHAR},
        user_name = #{userName,jdbcType=VARCHAR},
        user_status = #{userStatus,jdbcType=DECIMAL},
        deleted_time = #{deletedTime,jdbcType=TIMESTAMP},
        password = #{password,jdbcType=VARCHAR},
        password_raw = #{passwordRaw,jdbcType=VARCHAR},
        create_time = #{createTime,jdbcType=TIMESTAMP},
        modified_time = #{modifiedTime,jdbcType=TIMESTAMP},
        valid_start_time = #{validStartTime,jdbcType=TIMESTAMP},
        valid_end_time = #{validEndTime,jdbcType=TIMESTAMP},
        pwd_must_change = #{pwdMustChange,jdbcType=DECIMAL},
        pwd_expire_date = #{pwdExpireDate,jdbcType=DATE},
        login_failed_times = #{loginFailedTimes,jdbcType=DECIMAL},
        login_lock_time = #{loginLockTime,jdbcType=TIMESTAMP},
        user_email = #{userEmail,jdbcType=VARCHAR},
        user_mobile = #{userMobile,jdbcType=VARCHAR},
        user_phone = #{userPhone,jdbcType=VARCHAR},
        memo = #{memo,jdbcType=VARCHAR},
        dept_id = #{deptId,jdbcType=INTEGER},
        title_id = #{titleId,jdbcType=INTEGER}
        where user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <update id="updateByLoginrelevant" parameterType="com.sct.service.users.data.entity.AuthorityUser">
        update sec_user
        set
        login_failed_times = #{loginFailedTimes,jdbcType=DECIMAL},
        login_lock_time = #{loginLockTime,jdbcType=TIMESTAMP}
        where user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <update id="updatePasswordByUserId" parameterType="com.sct.service.users.data.entity.AuthorityUser">
        update sec_user
        set password = #{password,jdbcType=VARCHAR},
        modified_time = #{modifiedTime,jdbcType=TIMESTAMP}
        where user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <update id="updatePasswordAndPwdExpireDateByUserId" parameterType="com.sct.service.users.data.entity.AuthorityUser">
        update sec_user
        set password = #{password,jdbcType=VARCHAR},
        modified_time = #{modifiedTime,jdbcType=TIMESTAMP},
        pwd_expire_date = #{pwdExpireDate,jdbcType=DATE}
        where user_id = #{userId,jdbcType=VARCHAR}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
        create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
        login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
        title_id
        from sec_user
        where user_id = #{userId,jdbcType=VARCHAR}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 12 10:15:44 CST 2020.
        -->
        select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
        create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
        login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
        title_id
        from sec_user
    </select>
    <select id="selectByLoginId" parameterType="java.lang.String" resultMap="BaseResultMap">
   select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
    create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
    login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
    title_id
    from sec_user
    where login_id = #{loginId,jdbcType=VARCHAR} and deleted_time is null
  </select>
    <select id="selectByUserId" parameterType="java.lang.String" resultMap="BaseResultMap">
   select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
    create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
    login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
    title_id
    from sec_user
    where user_id = #{userId,jdbcType=VARCHAR} and deleted_time is null
  </select>
    <select id="selectByUserIdOrCellPhomeOrEmail" parameterType="java.lang.String" resultMap="BaseResultMap">
   select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
    create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
    login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
    title_id
    from sec_user
    where (login_id = #{userId,jdbcType=VARCHAR} || user_mobile = #{userId,jdbcType=VARCHAR} || user_email = #{userId,jdbcType=VARCHAR} ) and deleted_time is null order  by user_id
  </select>
    <select id="selectByUserMobile" parameterType="java.lang.String" resultMap="BaseResultMap">
   select user_id, login_id, user_name, user_status, deleted_time, password, password_raw,
    create_time, modified_time, valid_start_time, valid_end_time, pwd_must_change, pwd_expire_date,
    login_failed_times, login_lock_time, user_email, user_mobile, user_phone, memo, dept_id,
    title_id
    from sec_user
    where (user_mobile = #{userMobile,jdbcType=VARCHAR} or login_id = #{userMobile,jdbcType=VARCHAR}) and deleted_time is null
  </select>
</mapper>